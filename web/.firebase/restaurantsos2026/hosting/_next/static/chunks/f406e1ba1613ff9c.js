(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95187,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={callServer:function(){return d.callServer},createServerReference:function(){return o.createServerReference},findSourceMapURL:function(){return l.findSourceMapURL}};for(var s in a)Object.defineProperty(t,s,{enumerable:!0,get:a[s]});let d=e.r(32120),l=e.r(92245),o=e.r(35326)},15288,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(75157);let s=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));s.displayName="Card";let d=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...t}));d.displayName="CardHeader";let l=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("h3",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight font-outfit",e),...t}));l.displayName="CardTitle",t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let o=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...t}));o.displayName="CardContent",t.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>o,"CardHeader",()=>d,"CardTitle",()=>l])},43544,e=>{"use strict";var r=e.i(43476),t=e.i(71645),a=e.i(15288),s=e.i(95187);let d=(0,s.createServerReference)("4004694f1749b37a02f69cbcc5ea11325c1a9a45e2",s.callServer,void 0,s.findSourceMapURL,"checkCapacityAction");var l=e.i(1851),o=e.i(40165);function i({organizationId:e}){let[s,i]=(0,t.useState)(null),[n,c]=(0,t.useState)(!0),[f,u]=(0,t.useState)(null),m=new Date;0===m.getDay()&&m.setDate(m.getDate()+1);let x=(0,l.format)(m,"yyyy-MM-dd");(0,l.format)(m,"EEE d MMM",{locale:o.fr}),(0,t.useEffect)(()=>{e&&r();async function r(){c(!0);try{let r=await d({organizationId:e,checkDate:x,loadCost:0});r.error?u(r.error):i(r)}catch(e){u("Failed to fetch")}finally{c(!1)}}},[x,e]);let p=!n&&!f&&(!s||0===s.maxLimit),h=s?.currentLoad||0,b=s?.maxLimit||100,g=b>0?Math.round(h/b*100):0;return(0,r.jsxs)(a.Card,{className:"h-full bg-white border border-border shadow-sm hover:shadow-lg hover:shadow-primary/5 transition-all flex flex-col justify-between overflow-hidden",children:[(0,r.jsx)(a.CardHeader,{className:"bg-muted/10 pb-4 border-b border-border/50",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs font-bold text-muted-foreground uppercase tracking-widest mb-1 font-sans",children:"Production"}),(0,r.jsx)(a.CardTitle,{className:"text-xl font-bold text-secondary tracking-tight font-serif",children:p?"Non Configuré":`${g}% Charge`})]}),(0,r.jsx)("span",{className:"text-xs font-medium bg-background border border-border text-foreground px-2 py-1 rounded shadow-sm",children:"Aujourd'hui"})]})}),(0,r.jsxs)(a.CardContent,{className:"space-y-6 pt-6",children:[(0,r.jsx)("div",{className:"relative h-3 w-full bg-muted rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:`h-full rounded-full transition-all duration-700 ease-out ${g>80?"bg-destructive":"bg-primary"}`,style:{width:`${g>100?100:g}%`}})}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs font-medium",children:[(0,r.jsxs)("div",{className:"bg-muted/20 p-2 rounded-lg",children:[(0,r.jsx)("p",{className:"text-muted-foreground mb-1",children:"Utilisé"}),(0,r.jsxs)("p",{className:"text-lg text-secondary font-bold font-serif",children:[h," pts"]})]}),(0,r.jsxs)("div",{className:"bg-muted/20 p-2 rounded-lg",children:[(0,r.jsx)("p",{className:"text-muted-foreground mb-1",children:"Capacité Max"}),(0,r.jsxs)("p",{className:"text-lg text-secondary font-bold font-serif",children:[b," pts"]})]})]}),(0,r.jsxs)("div",{className:"text-xs font-medium text-muted-foreground border-t border-border pt-4 flex items-center justify-between",children:[(0,r.jsx)("span",{children:"État du service"}),(0,r.jsx)("span",{className:g>80?"text-destructive font-bold":"text-primary font-bold",children:g>80?"Surchargé":"Opérationnel"})]})]})]})}e.s(["CapacityMeter",()=>i],43544)}]);